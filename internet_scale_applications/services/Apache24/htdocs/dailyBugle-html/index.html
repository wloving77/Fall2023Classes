<!DOCTYPE html>
<html>

<head>
    <title> Daily Bugle!</title>
    <h1> Welcome to the Daily Bugle!</h1>
</head>

<body>

    <div class="adminUser" id="adminDiv">
        <h3 class="adminUser"> Welcome Admin User! </h3>
        <button class="adminUser" id="createStory"> Create Story </button>
        <br>
        <button class="adminUser" id="deleteStory" onclick="deleteStory()"> Delete Currently Displayed Story </button>
        <br>
        <br>

        <div id="modalCreateStory" class="modal">
            <div id="storyContent" class="modal-content">
                <span id="closeStory" class="modalClose">&times;</span>

                <label for="title">Title:</label>
                <br><br>
                <input type="text" id="storyTitle" placeholder="Enter title here" />

                <br>
                <br>

                <label for="story">Story:</label>
                <br><br>
                <textarea id="storyText" placeholder="Enter story content here" rows="10" cols="50"></textarea>

                <br><br>

                <button id="submitStory" onclick="createStory()">Submit Story</button>

            </div>
        </div>

    </div>
    <br>

    <div id="mainPage">


        <div class="storyDiv">

            <h1 id="titleBox"> Title of Story! </h1>

            <h2 id="contentBox"> Content of Story! </h2>

            <br>
            <br>

        </div>
        <br>
        <br>

        <div class="advertisementDiv">

            <h4 style="text-align: center;"> Promotion </h4>

            <img id="advertisementImage" src="./advertisements/bose.jpeg">

            <br>


        </div>

        <br>
    </div>

    <h1> Comments: </h1>
    <button id="createComment">Create Comment?</button>

    <div id="modalCreateComment" class="modal">
        <div id="commentContent" class="modal-content">
            <span id="closeComment" class="modalClose">&times;</span>


            <label for="comment">Comment Body:</label>
            <br><br>
            <textarea id="commentText" placeholder="Enter story content here" rows="10" cols="50"></textarea>

            <br><br>

            <button id="submitComment" onclick="deployComment()">Submit Comment</button>

        </div>
    </div>


    <br><br>
    <div class="commentDiv">

        <br>
        <ul id="commentList"></ul>
        <br>

    </div>
    </div>

    <br>

    </div>


    <br>

    <button class="arrowButton" id="previousStory" onclick="previousStory()"> Previous Story</button>
    <button class="arrowButton" id="nextStory" onclick="nextStory()"> Next Story </button>

    <br>
    <br>

    <button onclick=" signOut()" id="signOut">Sign Out</button>

    </div>
</body>

<link rel="stylesheet" href="./style.css">

<script src="/services/auth/auth.js"></script>

<script>

    var userInfo = {};

    window.onload = function () {
        checkForSessionToken()
            .then(returnData => {
                if (!returnData.success) {
                    window.location = "/services/auth";
                }
                userInfo.username = returnData.username;
                userInfo.adminUser = returnData.adminUser;
            })
    }

</script>

<script src="./control.js"></script>

</html>